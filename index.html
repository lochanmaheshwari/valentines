<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Will You Be My Valentine?</title>
  <style>
    /* Global Reset & Box-Sizing */
    *, *::before, *::after {
      box-sizing: border-box;
    }
    html, body {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
      overflow-x: hidden;
    }
    
    /* ----------------------- */
    /* COMMON BUTTON STYLES   */
    /* ----------------------- */
    .btn {
      padding: 10px 20px;
      font-size: 18px;
      margin: 10px;
      border: none;
      border-radius: 5px;
      background-color: #ff7f7f;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .btn:hover {
      background-color: #ff4f4f;
    }
    
    /* ----------------------- */
    /* MAIN SCREEN (Start)    */
    /* ----------------------- */
    #main-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
    }
    #main-section h1 {
      color: #d6336c;
      margin: 20px 0;
    }
    .top-photo {
      width: 200px;
      border-radius: 20px;
      margin-bottom: 20px;
    }
    /* Randomly move the "No" button on hover/touch */
    #no-button {
      position: relative;
    }
    
    /* ----------------------- */
    /* VIDEO SCREEN           */
    /* ----------------------- */
    #video-screen {
      display: none;
      height: 100vh;
      width: 100vw;
      background: #fff;
      text-align: center;
      padding-top: 20px;
    }
    #video-text {
      font-size: 24px;
      color: #d6336c;
      margin-bottom: 20px;
    }
    /* Video fixed at 250px width */
    #valentine-video {
      width: 250px;
      max-width: 250px;
      border-radius: 10px;
      display: block;
      margin: 20px auto;
    }
    
    /* ----------------------- */
    /* QUESTION SCREEN        */
    /* ----------------------- */
    /* The screen is divided vertically into two halves:
       - Top-half: floating photos fill 50% of the viewport.
       - Bottom-half: question container fills the other 50%.
    */
    #valentine-screen {
      display: none;
      height: 100vh;
      background: #000;
      display: flex;
      flex-direction: column;
    }
    /* Top half for photos */
    #top-half {
      position: relative;
      height: 50vh;  /* 50% of viewport height */
      overflow: hidden;
    }
    /* Floating Photos Container */
    #wire-photos {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    /* Straight horizontal animation for photos */
    @keyframes floatStraight {
      0% {
        transform: translateX(110vw);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateX(-110vw);
        opacity: 0;
      }
    }
    .wire-image {
      position: absolute;
      /* On desktop, fill the top-half container completely */
      height: 100%;
      width: auto;
      object-fit: cover;
      border-radius: 10px;
      animation: floatStraight 15s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      opacity: 0;
    }
    /* Stagger animation delays for each image */
    .wire-image:nth-child(1) { animation-delay: 0s; }
    .wire-image:nth-child(2) { animation-delay: 3s; }
    .wire-image:nth-child(3) { animation-delay: 6s; }
    .wire-image:nth-child(4) { animation-delay: 9s; }
    .wire-image:nth-child(5) { animation-delay: 12s; }
    .wire-image:nth-child(6) { animation-delay: 15s; }
    .wire-image:nth-child(7) { animation-delay: 18s; }
    .wire-image:nth-child(8) { animation-delay: 21s; }
    .wire-image:nth-child(9) { animation-delay: 24s; }
    
    /* Bottom half for questions */
    #bottom-half {
      height: 50vh;
      background: #fff;
      color: #d6336c;
      overflow-y: auto; /* Should fit on screen without scrolling on most devices */
      padding: 5px;
    }
    /* Question container holds all meal sections */
    #question-container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-size: 14px;
    }
    .meal-section {
      border: 1px solid rgba(0,0,0,0.1);
      border-radius: 8px;
      padding: 5px;
      background: rgba(255,255,255,0.8);
    }
    .meal-section h3 {
      margin: 5px 0;
      font-size: 16px;
    }
    .options {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 5px;
    }
    .meal-option {
      flex: 1 1 45%;
      max-width: 45%;
      padding: 6px;
      background: #f9c2c2;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.3s;
    }
    .meal-option:hover {
      background: #f08e8e;
    }
    .meal-input {
      margin: 5px auto;
      padding: 6px;
      width: 90%;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    
    /* ----------------------- */
    /* MOBILE ADJUSTMENTS     */
    /* ----------------------- */
    @media (max-width: 600px) {
      #main-section h1 {
        font-size: 18px;
      }
      .top-photo {
        width: 150px;
      }
      .btn {
        font-size: 16px;
        padding: 8px 16px;
      }
      #valentine-video {
        width: 250px !important;
        max-width: 250px !important;
      }
      /* For phone, keep the division 50vh each */
      #top-half {
        height: 50vh;
      }
      #bottom-half {
        height: 50vh;
      }
      /* On mobile, ensure the floating photos fill the top-half */
      .wire-image {
        height: 100%;
        object-fit: cover;
        top: 0;
        transform: none;
      }
      /* Make question container use full width */
      #question-container {
        max-width: 100%;
        padding: 10px;
      }
      .meal-option {
        flex: 1 1 100%;
        max-width: 100%;
        font-size: 14px;
        padding: 6px;
      }
      .meal-input {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

  <!-- MAIN SCREEN -->
  <div id="main-section">
    <img src="us.jpg" alt="Our Photo" class="top-photo">
    <h1>Will you be my Valentine? plewwz üòóü§óü•∫</h1>
    <div>
      <button id="yes-button" class="btn">Yes</button>
      <button id="no-button" class="btn">No</button>
    </div>
  </div>

  <!-- VIDEO SCREEN -->
  <div id="video-screen">
    <div id="video-text">yaaayyyy ü§óü§óüòç‚ù§Ô∏è</div>
    <video id="valentine-video" autoplay loop playsinline preload="auto">
      <source src="usvideo.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <button id="next-button" class="btn">Please click next my queen</button>
  </div>

  <!-- QUESTION SCREEN: All meal sections shown on one screen -->
  <div id="valentine-screen">
    <div id="top-half">
      <div id="wire-photos">
        <img src="us1.png" alt="Photo 1" class="wire-image">
        <img src="us2.png" alt="Photo 2" class="wire-image">
        <img src="us3.png" alt="Photo 3" class="wire-image">
        <img src="us4.png" alt="Photo 4" class="wire-image">
        <img src="us5.png" alt="Photo 5" class="wire-image">
        <img src="us6.png" alt="Photo 6" class="wire-image">
        <img src="us7.png" alt="Photo 7" class="wire-image">
        <img src="us8.png" alt="Photo 8" class="wire-image">
        <img src="us9.png" alt="Photo 9" class="wire-image">
      </div>
    </div>
    <div id="bottom-half">
      <div id="question-container">
        <!-- Breakfast Section -->
        <div class="meal-section" id="breakfast-question">
          <h3>Breakfast</h3>
          <div class="options">
            <button class="meal-option" data-meal="Breakfast" data-place="Roys">Roys</button>
            <button class="meal-option" data-meal="Breakfast" data-place="Eye of the Tiger">Eye of the Tiger</button>
            <button class="meal-option" data-meal="Breakfast" data-place="Bachuss In">Bachuss In</button>
            <button class="meal-option" data-meal="Breakfast" data-place="Egg Factory">Egg Factory</button>
            <button class="meal-option" data-meal="Breakfast" data-place="Mill">Mill</button>
            <button class="meal-option" data-meal="Breakfast" data-place="Dollops">Dollops</button>
            <button class="meal-option" data-meal="Breakfast" data-place="Kyoto">Kyoto</button>
            <button class="meal-option" data-meal="Breakfast" data-place="Veetos">Veetos</button>
          </div>
          <input type="text" class="meal-input" placeholder="Other?" data-meal="Breakfast">
        </div>
        <!-- Lunch Section -->
        <div class="meal-section" id="lunch-question">
          <h3>Lunch</h3>
          <div class="options">
            <button class="meal-option" data-meal="Lunch" data-place="Roys">Roys</button>
            <button class="meal-option" data-meal="Lunch" data-place="Eye of the Tiger">Eye of the Tiger</button>
            <button class="meal-option" data-meal="Lunch" data-place="Bachuss In">Bachuss In</button>
            <button class="meal-option" data-meal="Lunch" data-place="Egg Factory">Egg Factory</button>
            <button class="meal-option" data-meal="Lunch" data-place="Mill">Mill</button>
            <button class="meal-option" data-meal="Lunch" data-place="Dollops">Dollops</button>
            <button class="meal-option" data-meal="Lunch" data-place="Kyoto">Kyoto</button>
            <button class="meal-option" data-meal="Lunch" data-place="Veetos">Veetos</button>
          </div>
          <input type="text" class="meal-input" placeholder="Other?" data-meal="Lunch">
        </div>
        <!-- Dinner Section -->
        <div class="meal-section" id="dinner-question">
          <h3>Dinner</h3>
          <div class="options">
            <button class="meal-option" data-meal="Dinner" data-place="Roys">Roys</button>
            <button class="meal-option" data-meal="Dinner" data-place="Eye of the Tiger">Eye of the Tiger</button>
            <button class="meal-option" data-meal="Dinner" data-place="Bachuss In">Bachuss In</button>
            <button class="meal-option" data-meal="Dinner" data-place="Egg Factory">Egg Factory</button>
            <button class="meal-option" data-meal="Dinner" data-place="Mill">Mill</button>
            <button class="meal-option" data-meal="Dinner" data-place="Dollops">Dollops</button>
            <button class="meal-option" data-meal="Dinner" data-place="Kyoto">Kyoto</button>
            <button class="meal-option" data-meal="Dinner" data-place="Veetos">Veetos</button>
          </div>
          <input type="text" class="meal-input" placeholder="Other?" data-meal="Dinner">
        </div>
        <!-- Submit Button -->
        <button id="submit-button" class="btn">Submit</button>
      </div>
    </div>
  </div>
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const yesButton = document.getElementById("yes-button");
      const noButton = document.getElementById("no-button");
      const mainSection = document.getElementById("main-section");
      const videoScreen = document.getElementById("video-screen");
      const nextButton = document.getElementById("next-button");
      const valentineScreen = document.getElementById("valentine-screen");
      const submitButton = document.getElementById("submit-button");
      
      // To store the user's meal selections
      let mealResponses = {
        Breakfast: "",
        Lunch: "",
        Dinner: ""
      };
      
      // Function to move the "No" button randomly on hover/touch
      function moveButton() {
        const x = Math.random() * (window.innerWidth - noButton.offsetWidth);
        const y = Math.random() * (window.innerHeight - noButton.offsetHeight);
        noButton.style.position = "absolute";
        noButton.style.left = x + "px";
        noButton.style.top = y + "px";
      }
      noButton.addEventListener("mouseover", moveButton);
      noButton.addEventListener("touchstart", moveButton);
      
      // When "Yes" is clicked, hide the main section and show the video screen
      yesButton.addEventListener("click", function () {
        mainSection.style.display = "none";
        videoScreen.style.display = "block";
        document.getElementById("valentine-video").play().catch(error => {
          console.log("Video playback was prevented:", error);
        });
      });
      
      // When "Next" is clicked on the video screen, hide it and show the question screen
      nextButton.addEventListener("click", function () {
        videoScreen.style.display = "none";
        valentineScreen.style.display = "flex";
      });
      
      // Handle meal option button selections
      const mealOptionButtons = document.querySelectorAll(".meal-option");
      mealOptionButtons.forEach(function(btn) {
        btn.addEventListener("click", function () {
          const mealType = this.getAttribute("data-meal");
          const place = this.getAttribute("data-place");
          mealResponses[mealType] = place;
          this.style.backgroundColor = "#ff4f4f"; // Visual feedback
        });
      });
      
      // Handle custom meal input (on Enter, store the value)
      const mealInputs = document.querySelectorAll('.meal-input');
      mealInputs.forEach(function(input) {
        input.addEventListener("keydown", function(event) {
          if (event.key === "Enter") {
            const mealType = this.getAttribute("data-meal");
            const customPlace = this.value.trim();
            if (customPlace !== "") {
              mealResponses[mealType] = customPlace;
              this.style.borderColor = "#ff4f4f"; // Visual feedback
              this.value = "";
            }
          }
        });
      });
      
      // When the Submit button is clicked, ensure all meals are selected then open WhatsApp
      submitButton.addEventListener("click", function () {
        if (!mealResponses.Breakfast || !mealResponses.Lunch || !mealResponses.Dinner) {
          alert("Please select or enter an option for all meals.");
        } else {
          const message = `Breakfast: ${mealResponses.Breakfast}, Lunch: ${mealResponses.Lunch}, Dinner: ${mealResponses.Dinner}`;
          const whatsappURL = "https://api.whatsapp.com/send?phone=917062339465&text=" + encodeURIComponent(message);
          window.open(whatsappURL, "_blank");
        }
      });
    });
  </script>
</body>
</html>
